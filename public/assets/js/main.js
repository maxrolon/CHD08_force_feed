(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var w=window,FF=w.FF={};FF.debug=!1,FF.useMock=!1,FF.mockData={tnum:1,url:"http://www.huffingtonpost.com/2015/05/13/amtrak-crash-speed-limit_n_7276902.html"},FF.mockResponse={template:1,content:[{type:"text",content:"ASSOCIATED PRESS\n            \n        \n        		  \n        An Amtrak train that derailed in Philadelphia on Tuesday night had been going over 100 mph before the crash, the National Transportation Safety Board announced on Wednesday -- more than twice the legal speed limit.Sources familiar with the investigation of the crash told The Wall Street Journal that the train hit a sharp curve and failed to slow down"},{type:"image",content:"http://media2.giphy.com/media/FOwqXrc38glPO/200.gif"},{type:"image",content:"https://i.vimeocdn.com/channel/196544_980?mh=250"},{type:"image",content:"http://media3.giphy.com/media/lNwtH9yTWONW/200.gif"},{type:"image",content:"https://i.vimeocdn.com/channel/196544_980?mh=250"},{type:"image",content:"http://www.pbs.org/newshour/wp-content/uploads/2014/06/148123164.jpg"},{type:"text",content:" Officialsfamiliar with the crash also confirmed this to Reuters on Wednesday"},{type:"image",content:"http://www.thepca.org/wp-content/uploads/2009/12/January-2011-Newsletter.jpg"},{type:"image",content:"http://media3.giphy.com/media/d8nTTQ5QxCJvG/200.gif"},{type:"image",content:"http://media0.giphy.com/media/S0fijaOA7fbfW/200.gif"},{type:"image",content:"http://media0.giphy.com/media/J4SymBQ8QAFYQ/200.gif"},{type:"image",content:"http://www.thepca.org/wp-content/uploads/2009/12/January-2011-Newsletter.jpg"},{type:"text",content:" Speeding has been the cause of several majortrain crashes in recent years"},{type:"image",content:"http://media1.giphy.com/media/d8nTTQ5QxCJvG/200.gif"},{type:"image",content:"http://www.gannett-cdn.com/-mm-/0dcd2de70c10c28aab093f5f679e435332de36ec/c=0-107-3578-2128&r=x1683&c=3200x1680/local/-/media/2015/05/12/Wilmington/Wilmington/635670714206452298-APTOPIX-Amtrak-Crash.jpg"},{type:"image",content:"http://s1.ibtimes.com/sites/www.ibtimes.com/files/styles/v2_article_large/public/2013/05/17/metro-north_railroad_collision-may_17_2013.jpg?itok=70igz5no"},{type:"image",content:"http://media3.giphy.com/media/lNwtH9yTWONW/200.gif"},{type:"image",content:"http://media3.giphy.com/media/d8nTTQ5QxCJvG/200.gif"}]},$(function(){require("./util"),require("./outer-context"),require("./ui"),require("./article"),require("./form")});
},{"./article":2,"./form":3,"./outer-context":4,"./ui":5,"./util":6}],2:[function(require,module,exports){
!function(e){var i={init:function(){this.slideshowIterator=0,this.imageLoadAmount=0,this.allImagesLoaded=!1,this.$images=[],this.events()},events:function(t){t?$("#FF_Article").on("click",".exit",this.remove.bind(this)):$("body").on("article-data-ready",this.renderStart.bind(this))},renderStart:function(i,s){if($("body").trigger("ex-hide"),$("#FF_UI .loader").hide(),this.$active&&(this.$active.remove(),this.$active=!1),e.FF.useMock)this.data=e.FF.mockResponse;else try{this.data=JSON.parse(s)}catch(i){this.data=e.FF.mockResponse,alert(i)}return this.type=t=Number(window.FF.template)<=2?"a":"b",console.dir("type = "+this.type),this["template_"+t]?void this.cacheTemplate():(e.FF.ext?url=chrome.extension.getURL("templates/template-"+t+".html"):url="templates/template-"+t+".html",void $.get(url,this.cacheTemplate.bind(this)))},cacheTemplate:function(t){t&&!this["template_"+this.type]&&(this["template_"+this.type]=t||""),this.render()},render:function(){$("body").addClass("overflow-hidden");var t=1;this.imageLoadAmount=0,this.allImagesLoaded=!1;var e=this["template_"+this.type];this.$active=$(e).insertAfter(".FF_bodywrap"),this.$content=this.$active.find("#FF__body");for(prop in this.data.content){var i=this.data.content[prop];if("text"==i.type){var s=$("<p>");this.$content.append(s.html(i.content))}else if("image"==i.type){var a='<img class="FF-image-'+t+'" src="'+i.content+'">',n='<div class="FF-image-'+t+'" style="background-image:url('+i.content+')">',s=$(n);$(a).on("load",this.imageLoaded.bind(this,s)),this.$content.append(s),t++}}switch(this.type){case"a":this.templateA();break;case"b":this.templateB()}this.events(!0)},imageLoaded:function(t){"a"==this.type?(console.dir(t),t.addClass("visible")):(this.imageLoadAmount++,this.$images=this.$content.find("div[class^=FF-image]"),this.imageLoadAmount>=this.$images.length&&this.setTimer())},templateA:function(){},templateB:function(){this.$images=this.$content.find("div[class^=FF-image]")},slideshow:function(){return this.$images.eq(this.slideshowIterator).addClass("visible"),this.slideshowIterator>=this.$images.length?(this.$images.not(":first-child").removeClass("visible"),void(this.slideshowIterator=0)):void this.slideshowIterator++},setTimer:function(){this.timer=setInterval(this.slideshow.bind(this),200)},clearTimer:function(){clearInterval(this.timer)},remove:function(){$("body").removeClass("overflow-hidden"),this.clearTimer(),this.$active.remove()}};i.init()}(window);
},{}],3:[function(require,module,exports){
!function(t){var i={init:function(){this.data={},this.events()},events:function(t){t?(this.$el=$("#FF_UI form"),this.$el.on("submit",this.submit.bind(this))):$("body").on("ui-ready",this.events.bind(this,!0))},submit:function(i){if(i.preventDefault(),this.handleRanges(),this.getUrl(),t.FF.debug)$("body").trigger("article-data-ready");else{var n={};n.data=t.FF.useMock?t.FF.mockData:this.data,$("#FF_UI .loader").show(),console.dir(n),chrome.runtime.sendMessage(n)}return!1},handleRanges:function(){var t={};$r=this.$el.find('[type="range"]'),$r.each(function(){var i=$(this).val();i=Math.round(i/1e3),t[$(this).attr("name")]=i});var i=t.time,n=t.seriousness;i&&n?(console.dir("time and serious"),this.data.tnum=1):i&&!n?(console.dir("time and no serious"),this.data.tnum=2):i||n?(console.dir("no time and serious"),this.data.tnum=4):(console.dir("no time and no serious"),this.data.tnum=3),window.FF.template=this.data.tnum},getUrl:function(){this.data.url=window.location.href}};i.init()}(window);
},{}],4:[function(require,module,exports){
!function(e){var i={init:function(){e.FF.ext=this.isExt(),this.events()},events:function(){e.FF.ext?chrome.runtime.onMessage.addListener(this.messageHandler.bind(this)):setTimeout(this.messageHandler.bind(this),200)},isExt:function(){return chrome&&chrome.runtime.onMessage?!0:!1},messageHandler:function(e){if(!e){var i=window.FF.visible?"ex-hide":"ex-show";return void $("body").trigger(i)}if(e.button){var i=window.FF.visible?"ex-hide":"ex-show";$("body").trigger(i)}else e.article?$("body").trigger("article-data-ready",[e.article]):e.error&&console.dir(e.error)}};i.init()}(window);
},{}],5:[function(require,module,exports){
!function(t){var i={init:function(){this.preparePage(),this.getUITemplate(),this.events()},events:function(){$("body").on("ex-show",this.show.bind(this)).on("ex-hide",this.hide.bind(this))},preparePage:function(){this.$page=$("body").wrapInner('<div class="FF_bodywrap"></div>')},getUITemplate:function(){var i;i=t.FF.ext?chrome.extension.getURL("templates/ui.html"):"templates/ui.html",$.get(i,this.storeTemplate.bind(this))},storeTemplate:function(t){this.$template=$(t),this.$template.insertAfter(".FF_bodywrap"),$("body").trigger("ui-ready"),this.setAnimations(),this.templateReady=!0},setAnimations:function(){this.animation=(new TimelineMax).pause().to(this.$template,1,{x:0})},wait:function(){this.timer=setInterval(function(){this.templateReady&&(this.show(),clearInterval(this.timer))}.bind(this),100)},toggle:function(){window.FF.visible=window.FF.visible?!1:!0},show:function(){return this.templateReady?void(this.animation.isActive()||(this.toggle(),this.animation.timeScale(1).play(0))):void this.wait()},hide:function(){this.animation.isActive()||(this.toggle(),this.animation.timeScale(1.4).reverse(0))}};i.init()}(window);
},{}],6:[function(require,module,exports){
!function(i){var e={init:function(){this.events()},events:function(){$("body").on("ui-ready",this.triggerUtil.bind(this)).on("#FF__footer .share",this.share.bind(this))},triggerUtil:function(){this.rangeslider()},rangeslider:function(){$('[type="range"]').rangeslider({polyfill:!1})},share:function(){console.dir("sharing");var i={HEADLINE:document.title,HTML:$("#FF_Article").html()};$.ajax({url:"http://forcefeed.me/save.php",type:"post",data:i,success:function(i){console.dir(i)},error:function(i){console.log("Failed")}})}};e.init()}(window);
},{}]},{},[1])


//# sourceMappingURL=main.js.map