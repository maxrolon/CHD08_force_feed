{"version":3,"file":"bundle.js","sources":["/Users/gary.to/Sites/CHD_08/node_modules/grunt-browserify/node_modules/browserify/node_modules/browser-pack/_prelude.js","/Users/gary.to/Sites/CHD_08/src/js/app.js","/Users/gary.to/Sites/CHD_08/src/js/util.js","/Users/gary.to/Sites/CHD_08/src/js/outer-context.js","/Users/gary.to/Sites/CHD_08/src/js/ui.js","/Users/gary.to/Sites/CHD_08/src/js/form.js","/Users/gary.to/Sites/CHD_08/src/js/article.js"],"names":["w","window","FF","debug","useMock","mockData","tnum","url","mockResponse","template","content","type","spareImages","$","require","util","init","this","events","on","triggerUtil","bind","share","rangeslider","polyfill","console","dir","data","HEADLINE","document","title","HTML","html","ajax","success","error","log","OuterContext","ext","isExt","chrome","runtime","onMessage","addListener","messageHandler","setTimeout","request","event","visible","trigger","button","article","ui","preparePage","getUITemplate","show","hide","$page","wrapInner","extension","getURL","get","storeTemplate","d","$template","insertAfter","setAnimations","templateReady","animation","TimelineMax","pause","to","x","wait","timer","setInterval","clearInterval","toggle","isActive","timeScale","play","reverse","Form","isPostLoad","$el","submit","e","preventDefault","handleRanges","getUrl","message","sendMessage","values","$r","find","each","v","val","Math","round","attr","t","s","location","href","Article","slideshowIterator","imageLoadAmount","allImagesLoaded","$images","remove","renderStart","$active","JSON","parse","Number","cacheTemplate","render","addClass","imgI","$content","prop","obj","append","rand","floor","random","imgUrl","length","img","div","imageLoaded","imageError","templateA","templateB","css","setTimer","slideshow","eq","not","removeClass","clearTimer"],"mappings":"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","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var w = window;\nvar FF = w.FF = {};\n\nFF.debug = false;\nFF.useMock = false;\n\nFF.mockData = {\n\ttnum: 1,\n\turl: \"http://www.huffingtonpost.com/2015/05/13/amtrak-crash-speed-limit_n_7276902.html\"\n}\n\nFF.mockResponse = {\n    \"template\": 1,\n    \"content\": [\n        {\n            \"type\": \"image\",\n            \"content\": \"http://media.glassdoor.com/l/b0/13/5b/19/corporate-conference-room.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.vosizneias.com/wp-content/uploads/2010/03/6.JPG\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://rlv.zcache.com/nasa_mars_rave_vallis_poster-rbe27566bffaf49e3a6544cdb2789eccd_w2u_8byvr_324.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www2.pictures.zimbio.com/gi/Record%252BHeat%252BWave%252BExacerbates%252BDevastating%252BDrought%252BWVjNzNteiS4l.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://rlv.zcache.com/nasa_mars_rave_vallis_poster-rbe27566bffaf49e3a6544cdb2789eccd_w2u_8byvr_324.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://mnbrighterideas.com/skin/images/heatPump/ASHP_ani_cool.gif\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://mnbrighterideas.com/skin/images/heatPump/ASHP_ani_cool.gif\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.fullfleet.com/fullpages/nestlewatersmap.gif\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"https://d15mj6e6qmt1na.cloudfront.net/i/8331223/600.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.fullfleet.com/fullpages/nestlewatersmap.gif\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.hydrology.nl/images/docs/iah/cartoons/07_gw_buffer.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.vosizneias.com/wp-content/uploads/2010/03/6.JPG\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"https://www.insideindianabusiness.com/images/news/scenes/NestlePureLifeWater.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://media.glassdoor.com/l/b0/13/5b/19/corporate-conference-room.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.fullfleet.com/fullpages/nestlewatersmap.gif\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www2.pictures.zimbio.com/gi/Record%252BHeat%252BWave%252BExacerbates%252BDevastating%252BDrought%252BWVjNzNteiS4l.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.nationsencyclopedia.com/photos/united-states-population-1515.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://img1.wikia.nocookie.net/__cb20070430025357/wikiality/images/1/15/North-america-map.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://img1.wikia.nocookie.net/__cb20070430025357/wikiality/images/1/15/North-america-map.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://img1.wikia.nocookie.net/__cb20070430025357/wikiality/images/1/15/North-america-map.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://purewatergazette.net/blog/wp-content/uploads/2013/04/ng-artn-water-20130415180116860733-300x01.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://media.mercola.com/imageserver/public/2010/October/bottled-water-10.1.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://images.placesonline.com/photos/14607_san_joaquin_valley_irrigation_of_new_crop.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://upload.wikimedia.org/wikipedia/commons/thumb/1/16/Municipios_de_Baja_California.svg/2000px-Municipios_de_Baja_California.svg.png\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://images.placesonline.com/photos/14607_san_joaquin_valley_irrigation_of_new_crop.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://upload.wikimedia.org/wikipedia/commons/0/0a/Wastewater_effluent.JPG\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://media.mercola.com/imageserver/public/2010/October/bottled-water-10.1.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://media.utsandiego.com/img/photos/2014/09/02/farmers_market4_r620x349.jpg?75d51d0aea2efce5189afce216053cbc530c46a8\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.kiddglobal.com/library/public/designs/default/logo.png\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://d3vs4613l1445x.cloudfront.net/archive/x634491106/g320258000000000000631582c48f3bb6a29136c72a00953af4154eae4b.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://i.telegraph.co.uk/multimedia/archive/02166/hodge_2166914b.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://7art-screensavers.com/wallpapers/mist-0/xls/magic-fog.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://7art-screensavers.com/wallpapers/mist-0/xls/magic-fog.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://7art-screensavers.com/wallpapers/mist-0/xls/magic-fog.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.liquid-blue.com/photos/tour%25255Cstates/california/images/2009-04-24%20Sacramento-CA%20033.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://bonnieplants.com/wp-content/uploads/2011/10/chive-plant-clump-lo.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://upload.wikimedia.org/wikipedia/commons/thumb/1/16/Municipios_de_Baja_California.svg/2000px-Municipios_de_Baja_California.svg.png\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://upload.wikimedia.org/wikipedia/commons/thumb/1/16/Municipios_de_Baja_California.svg/2000px-Municipios_de_Baja_California.svg.png\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://7art-screensavers.com/wallpapers/mist-0/xls/magic-fog.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.harborfreight.com/media/catalog/product/cache/1/image/9df78eab33525d08d6e5fb8d27136e95/i/m/image_22416.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.50states.com/maps/nevada.gif\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://community.abeo.us/wp-content/uploads/2012/12/cat-lion-mirror.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://upload.wikimedia.org/wikipedia/commons/thumb/1/16/Municipios_de_Baja_California.svg/2000px-Municipios_de_Baja_California.svg.png\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.climatechange-foodsecurity.org/uploads/2015_Unprec_drough_US_SW_3_2c.png\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://bondstreetdental.com.au/wp-content/uploads/2014/07/Oral-Hygiene.png\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://cdn.shopify.com/s/files/1/0307/7709/files/ethos_large.jpg?16836065973081958828\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://1-ps.googleusercontent.com/xk/UMQ08tvUJOp9Tfl0X2d14MHAmB/www.turtlediary.com/cdn.turtlediary.com/games/span/xgrade2-personal-hygiene.png.pagespeed.ic.KGcj-bgNQa_V5U26Fs_M.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.wholesalevapor.com/images/ethos-vape-juice.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://1-ps.googleusercontent.com/xk/UMQ08tvUJOp9Tfl0X2d14MHAmB/www.turtlediary.com/cdn.turtlediary.com/games/span/xgrade2-personal-hygiene.png.pagespeed.ic.KGcj-bgNQa_V5U26Fs_M.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.wholesalevapor.com/images/ethos-vape-juice.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://community.abeo.us/wp-content/uploads/2012/12/cat-lion-mirror.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.50states.com/maps/nevada.gif\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.blog.farmusa.org/wp-content/uploads/2012/08/cowdrought_480x286.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.cdc.gov/niosh/topics/body_art/images/states.gif\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.momendeavors.com/wp-content/uploads/2012/06/Arizona-Sunset.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"https://www.wctc.edu/images/programs/dental-hygienist.png\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.tufts.edu/home/feature/greenblatt/greenblatt_long1.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.zerohedge.com/sites/default/files/images/user92183/imageroot/2015/04/Drought4_0.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://publicradio1.wpengine.netdna-cdn.com/updraft/files/2013/09/551-mn-drought.png\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.strategyand.pwc.com/media/image/teaser_Global-Talent-Innovation-Strategies-for-Breakthrough-Performance290x140.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://api.ning.com/files/gbgPQMVtmra5LvsNEQy4Qz-T-BWCsZ7zIXov-pS*RYIu7e7bKIEml88tPvjGxb02gm4jObdslt5V*U-ch50XpRhZuVKG3DqI/1350022429headercustomers.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.netstate.com/states/maps/images/usa_electoral_votes04-08.gif\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"https://i-msdn.sec.s-msft.com/dynimg/IC498980.png\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://1.bp.blogspot.com/-fgmgUGJImNI/TzF9XDPCFNI/AAAAAAAAACQ/xVmaGurtrEs/s320/One-of-the-best-ways-to-grow-a-local-business-is-to-hire-a-local-lead-generation-company-to-help-with-your-marketing-efforts..jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://arts.wp.htcreative.com/files/2013/11/LongtimeCompanion2.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://i.kinja-img.com/gawker-media/image/upload/s--nU3RARXf--/c_fit,fl_progressive,q_80,w_636/18q0uzw6n6333jpg.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://d.ibtimes.co.uk/en/full/1406632/sao-paulo-drought.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.inhabitat.com/wp-content/uploads/guyrecycledbottles.jpg\"\n        },\n        {\n            \"type\": \"image\",\n            \"content\": \"http://www.brocktonpublicschools.com/uploaded/ClipArt_Pictures/sun.jpg\"\n        }\n    ]\n}\n\nFF.spareImages = [\n\t\"http://media.glassdoor.com/l/b0/13/5b/19/corporate-conference-room.jpg\",\n\t\"http://www.vosizneias.com/wp-content/uploads/2010/03/6.JPG\",\n\t\"http://rlv.zcache.com/nasa_mars_rave_vallis_poster-rbe27566bffaf49e3a6544cdb2789eccd_w2u_8byvr_324.jpg\",\n\t\"http://www2.pictures.zimbio.com/gi/Record%252BHeat%252BWave%252BExacerbates%252BDevastating%252BDrought%252BWVjNzNteiS4l.jpg\",\n\t\"http://rlv.zcache.com/nasa_mars_rave_vallis_poster-rbe27566bffaf49e3a6544cdb2789eccd_w2u_8byvr_324.jpg\",\n\t\"http://mnbrighterideas.com/skin/images/heatPump/ASHP_ani_cool.gif\",\n\t\"http://www.fullfleet.com/fullpages/nestlewatersmap.gif\",\n\t\"https://d15mj6e6qmt1na.cloudfront.net/i/8331223/600.jpg\",\n\t\"http://www.fullfleet.com/fullpages/nestlewatersmap.gif\",\n\t\"http://www.hydrology.nl/images/docs/iah/cartoons/07_gw_buffer.jpg\",\n\t\"http://www.vosizneias.com/wp-content/uploads/2010/03/6.JPG\",\n\t\"https://www.insideindianabusiness.com/images/news/scenes/NestlePureLifeWater.jpg\",\n\t\"http://media.glassdoor.com/l/b0/13/5b/19/corporate-conference-room.jpg\"\n]\n\n\n$(function(){\n\trequire('./util');\n\trequire('./outer-context');\n\trequire('./ui');\n\trequire('./article');\n\trequire('./form');\n});\n","(function(w){\n\tvar util = {\n\t\tinit:function(){\n\t\t\tthis.events();\n\t\t},\n\t\tevents:function(){\n\t\t\t$('body')\n\t\t\t\t.on('ui-ready',this.triggerUtil.bind(this))\n\t\t\t\t.on('#FF__footer .share',this.share.bind(this));\n\t\t},\n\t\ttriggerUtil:function(){\n\t\t\tthis.rangeslider();\n\t\t},\n\t\trangeslider:function(){\n\t\t\t$('[type=\"range\"]').rangeslider({\n\t\t    polyfill: false\n\t\t  });\n\t\t},\n\t\tshare:function(){\n\t\t\tconsole.dir('sharing');\n\t\t\t\n\t\t\tvar data = {\n\t\t\t\tHEADLINE: document.title,\n\t\t\t\tHTML: $('#FF_Article').html()\n\t\t\t};\n\t\t\t\n\t\t\t$.ajax({\n\t\t\t\turl : \"http://forcefeed.me/save.php\",\n\t\t\t\ttype: 'post',\n\t\t\t\tdata: data,\n\t\t\t\tsuccess : function(data) {\n\t\t\t\t\tconsole.dir(data);\n\t\t\t\t},\n\t\t\t\terror: function(data) {\n\t\t\t\t\tconsole.log('Failed');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\t\n\tutil.init();\n\t\n})(window);","(function(w){\n\tvar OuterContext = {\n\t\t\n\t\t/*\n\t\t * Init stuff\n\t\t * @params void\n\t\t * @returns void\n\t\t */\n\t\tinit:function(){\n\t\t\tw.FF.ext = this.isExt();\n\t\t\tthis.events();\n\t\t},\n\t\t\n\t\t/*\n\t\t * Declare event handlers\n\t\t * @params void\n\t\t * @returns void\n\t\t */\n\t\tevents:function(){\n\t\t\tif (w.FF.ext){\n\t\t\t\tchrome.runtime.onMessage.addListener(this.messageHandler.bind(this));\n\t\t\t} else {\n\t\t\t\tsetTimeout(this.messageHandler.bind(this),200);\n\t\t\t}\n\t\t},\n\t\t\n\t\t/* \n\t\t * Determines is this script has been called\n\t\t * as part of an extension or statically \n\t\t * for development purposes\n\t\t * @param void\n\t\t * @returns void\n\t\t */\n\t\tisExt:function(){\n\t\t\tif (chrome && chrome.runtime.onMessage){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t\n\t\t/* \n\t\t * Handles all messages from the outer context\n\t\t * @param\tmixed the message send from the outer context\n\t\t * @returns void\n\t\t */\n\t\tmessageHandler:function(request){\n\t\t\t//Just pretending for dev purposes\n\t\t\tif (!request){\n\t\t\t\tvar event = window.FF.visible ? 'ex-hide' : 'ex-show';\n\t\t\t\t$('body').trigger(event);\n\t\t\t\treturn;\n\t\t\t\n\t\t\t//Extension button click related\n\t\t\t} else if (request.button){\n\t\t\t\tvar event = window.FF.visible ? 'ex-hide' : 'ex-show';\n\t\t\t\t$('body').trigger(event);\n\t\t\t\n\t\t\t//End of XHR\n\t\t\t} else if (request.article){\n\t\t\t\t$('body').trigger('article-data-ready',[request.article]);\n\t\t\t} else if (request.error){\n\t\t\t\tconsole.dir(request.error);\n\t\t\t}\n\t\t}\n\t};\n\t\n\tOuterContext.init();\n\t\n})(window);","(function(w){\n\tvar ui = {\n\t\t\n\t\t/*\n\t\t * Init stuff\n\t\t * @params void\n\t\t * @returns void\n\t\t */\n\t\tinit:function(){\n\t\t\tthis.preparePage();\n\t\t\tthis.getUITemplate();\n\t\t\tthis.events();\n\t\t},\n\t\tevents:function(){\n\t\t\t$('body')\n\t\t\t\t.on('ex-show',this.show.bind(this))\n\t\t\t\t.on('ex-hide',this.hide.bind(this));\n\t\t},\n\t\tpreparePage:function(){\n\t\t\tthis.$page = $('body').wrapInner('<div class=\"FF_bodywrap\"></div>');\t\t},\n\t\tgetUITemplate:function(){\n\t\t\tvar url;\n\t\t\t\n\t\t\tif (w.FF.ext){\n\t\t\t\turl = chrome.extension.getURL(\"templates/ui.html\");\n\t\t\t} else {\n\t\t\t\turl = 'templates/ui.html';\n\t\t\t}\n\t\t\t$.get(url,this.storeTemplate.bind(this));\n\t\t},\n\t\tstoreTemplate:function(d){\n\t\t\tthis.$template = $(d);\n\t\t\tthis.$template.insertAfter('.FF_bodywrap');\n\t\t\t$('body').trigger('ui-ready');\n\t\t\tthis.setAnimations();\n\t\t\tthis.templateReady = true;\n\t\t},\n\t\tsetAnimations:function(){\n\t\t\tthis.animation = \n\t\t\tnew TimelineMax()\n\t\t\t.pause()\n\t\t\t.to(this.$template, 1,{x:0});\n\t\t\t\t\n\t\t},\n\t\twait:function(){\n\t\t\tthis.timer = setInterval(function(){\n\t\t\t\tif (this.templateReady){\n\t\t\t\t\tthis.show();\n\t\t\t\t\tclearInterval(this.timer);\n\t\t\t\t}\n\t\t\t}.bind(this), 100);\t\n\t\t},\n\t\ttoggle:function(){\n\t\t\twindow.FF.visible = window.FF.visible ? false : true;\t\n\t\t},\n\t\tshow:function(){\n\t\t\tif (!this.templateReady){\n\t\t\t\tthis.wait();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.animation.isActive()) return;\n\t\t\tthis.toggle();\n\t\t\tthis.animation.timeScale(1).play(0);\n\t\t},\n\t\thide:function(){\n\t\t\tif (this.animation.isActive()) return;\n\t\t\tthis.toggle();\n\t\t\tthis.animation.timeScale(1.4).reverse(0);\n\t\t}\n\t};\n\t\n\tui.init();\n\t\n})(window);","(function(w){\n\tvar Form = {\n\t\t\n\t\t/* Just Init\n\t\t * @param void\n\t\t * @returns void\n\t\t */\n\t\tinit:function(){\n\t\t\tthis.data = {};\n\t\t\tthis.events();\n\t\t},\n\t\t\n\t\t/* Call any events we need to listen out for\n\t\t * @param boolean is this function getting called post init?\n\t\t * @returns void\n\t\t */\n\t\tevents:function(isPostLoad){\n\t\t\tif (isPostLoad){\n\t\t\t\tthis.$el = $('#FF_UI form');\n\t\t\t\tthis.$el.on('submit',this.submit.bind(this));\n\t\t\t} else {\n\t\t\t\t$('body').on('ui-ready',this.events.bind(this,true));\n\t\t\t}\n\t\t},\n\t\t\n\t\t/* Handle the submit of the form\n\t\t * The backbone of the submission process\n\t\t * @param obj event object\n\t\t * @returns void\n\t\t */\n\t\tsubmit:function(e){\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tthis.handleRanges();\n\t\t\tthis.getUrl();\n\t\t\t\n\t\t\tif (w.FF.debug){\n\t\t\t\t//Bypass the whole XHR thing\n\t\t\t\t$('body').trigger('article-data-ready');\n\t\t\t} else {\n\t\t\t\tvar message = {};\n\t\t\t\tmessage['data'] = w.FF.useMock ? w.FF.mockData : this.data;\n\t\t\t\t\n\t\t\t\t$('#FF_UI .loader').show();\n\t\t\t\t\n\t\t\t\tconsole.dir(message);\n\t\t\t\t\n\t\t\t\t//Init XHR in other context\n\t\t\t\tchrome.runtime.sendMessage(message);\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t},\n\t\t\n\t\t/* Get range values which will determine the template\n\t\t * number to send to endpoint. Changes this.data as \n\t\t * apposet to returning value\n\t\t * @param void\n\t\t * @returns void\n\t\t */\n\t\thandleRanges:function(){\n\t\t\tvar values = {};\n\t\t\t\n\t\t\t$r = this.$el.find('[type=\"range\"]');\n\t\t\t$r.each(function(){\n\t\t\t\tvar v = $(this).val();\n\t\t\t\tv = Math.round(v/1000);\n\t\t\t\tvalues[$(this).attr('name')] = v;\n\t\t\t});\n\t\t\t\n\t\t\tvar \n\t\t\t\tt = values['time'],\n\t\t\t\ts = values['seriousness'];\n\t\t\t\n\t\t\tif (t && !s){\n\t\t\t\tthis.data['tnum'] = 3;\n\t\t\t} else if (t && s){\n\t\t\t\tthis.data['tnum'] = 4;\n\t\t\t} else if (!t && s){\n\t\t\t\tthis.data['tnum'] = 2;\n\t\t\t} else {\n\t\t\t\tthis.data['tnum'] = 1;\n\t\t\t}\n\t\t\t\n\t\t\twindow.FF.template = this.data['tnum'];\n\t\t},\n\t\t\n\t\t/* Get the URL of the page\n\t\t * @param void\n\t\t * @returns void\n\t\t */\n\t\tgetUrl:function(){\n\t\t\tthis.data['url'] = window.location.href;\n\t\t}\n\t};\n\t\n\tForm.init();\n\t\n})(window);","(function(w){\n\t\n\tvar Article = {\n\t\t\n\t\t/*\n\t\t * Init Stuff\n\t\t * @params void\n\t\t * @returns void\n\t\t */\n\t\tinit:function(){\n\t\t\tthis.slideshowIterator = 0;\n\t\t\tthis.imageLoadAmount = 0;\n\t\t\tthis.allImagesLoaded = false;\n\t\t\tthis.$images = [],\n\t\t\tthis.events();\n\t\t},\n\t\t\n\t\t/*\n\t\t * Declare event handlers\n\t\t * @param boolean is this function getting called post init?\n\t\t * @returns void\n\t\t */\n\t\tevents:function(isPostLoad){\n\t\t\t// Has to wait until the template is loaded\n\t\t\tif (isPostLoad){\n\t\t\t\t$('#FF_Article')\n\t\t\t\t\t.on('click','.exit',this.remove.bind(this));\n\t\t\t} else {\n\t\t\t\t$('body')\n\t\t\t\t\t.on('article-data-ready',this.renderStart.bind(this));\n\t\t\t}\n\t\t},\n\t\t\n\t\t/*\n\t\t * Do the preparation to get the response rendered to\n\t\t * the page! Acknowledge that the XHR request ended.\n\t\t * @param obj event object\n\t\t * @param obj data recieved from the endpoint\n\t\t * @returns void\n\t\t */\n\t\trenderStart:function(e,d){\n\t\t\t$('body').trigger('ex-hide');\n\t\t\t$('#FF_UI .loader').hide();\n\t\t\t\n\t\t\t// Is there a template on the page already?\n\t\t\tif (this.$active){\n\t\t\t\tthis.$active.remove();\n\t\t\t\tthis.$active = false;\n\t\t\t}\n\t\t\t\n\t\t\t// Use the real response or the mock?\n\t\t\tif (w.FF.useMock){\n\t\t\t\tthis.data = w.FF.mockResponse\n\t\t\t} else {\n\t\t\t\ttry{\n\t\t\t\t\tthis.data = JSON.parse(d);\n\t\t\t\t} catch(e) {\n\t\t\t\t\tthis.data = w.FF.mockResponse;\n\t\t\t\t\tconsole.log(e); //error in the above string(in this case,yes)!\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//Decide which template variant to use\n\t\t\tthis.type = t = Number(window.FF.template) <= 2 ? 'a' : 'b';\n\t\t\t\n\t\t\tconsole.dir('type = '+this.type)\n\t\t\t\n\t\t\t//If we have already fetched the template file..\n\t\t\tif (this['template_'+t]){\n\t\t\t\tthis.cacheTemplate();\n\t\t\t\treturn;\n\t\t\t} \n\t\t\t\n\t\t\t//Which URL to fetch (Are we in dev mode?)\n\t\t\tif (w.FF.ext){\n\t\t\t\turl = chrome.extension.getURL(\"templates/template-\"+t+\".html\");\n\t\t\t} else {\n\t\t\t\turl = \"templates/template-\"+t+\".html\";\n\t\t\t}\n\t\t\t\n\t\t\t//Love a bit of AJAX\n\t\t\t$.get(url,this.cacheTemplate.bind(this));\n\t\t},\n\t\t\n\t\t/*\n\t\t * Do the preparation to get the response rendered to\n\t\t * the page! Acknowledge that the XHR request ended.\n\t\t * @param obj data from XHR response\n\t\t * @returns void\n\t\t */\n\t\tcacheTemplate:function(d){\n\t\t\t//Cache a reference to the template HTML (raw)\n\t\t\tif (d && !this['template_'+this.type]){\n\t\t\t\tthis['template_'+this.type] = d || '';\n\t\t\t}\n\t\t\t\n\t\t\t//Get some DOM action\n\t\t\tthis.render();\n\t\t},\n\t\t\n\t\t/*\n\t\t * Render the template to the page!\n\t\t * @params\tvoid\n\t\t * @returns\tvoid\n\t\t */\n\t\trender:function(){\n\t\t\t$('body').addClass('overflow-hidden');\n\t\t\t\n\t\t\t//Reset necessary iterators etc\n\t\t\tvar imgI = 1;\n\t\t\tthis.imageLoadAmount = 0;\n\t\t\tthis.allImagesLoaded = false;\n\t\t\t\n\t\t\tvar t = this['template_'+this.type];\n\t\t\t\n\t\t\tthis.$active = $(t).insertAfter('.FF_bodywrap');\n\t\t\tthis.$content = this.$active.find('#FF__body');\n\t\t\n\t\t\tfor (prop in this.data.content){\n\t\t\t\tvar obj = this.data.content[prop];\n\t\t\t\t\n\t\t\t\t//Handle text blocks\n\t\t\t\tif (obj.type == 'text'){\n\t\t\t\t\tvar $el = $('<p>');\n\t\t\t\t\tthis.$content.append($el.html(obj.content));\n\t\t\t\t\n\t\t\t\t//Handle images\n\t\t\t\t} else if (obj.type == 'image'){\n\t\t\t\t\tvar \n\t\t\t\t\t\trand = Math.floor(Math.random() * 12),\n\t\t\t\t\t\timgUrl = obj.content.length ? obj.content : w.FF.spareImages[rand],\n\t\t\t\t\t\timg = '<img class=\"FF-image-'+imgI+'\" src=\"'+imgUrl+'\">',\n\t\t\t\t\t\tdiv = '<div class=\"FF-image-'+imgI+'\" style=\"background-image:url('+imgUrl+')\">',\n\t\t\t\t\t\t$el = $(div);\n\t\t\t\t\t\t\n\t\t\t\t\t$(img).on('load',this.imageLoaded.bind(this,$el));\n\t\t\t\t\t$(img).on('error',this.imageError.bind(this,$el));\n\t\t\t\t\t\n\t\t\t\t\tthis.$content.append($el);\n\t\t\t\t\t\n\t\t\t\t\timgI++;\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tswitch (this.type){\n\t\t\t\tcase 'a':\n\t\t\t\t\tthis.templateA();\n\t\t\t\tbreak;\n\t\t\t\tcase 'b':\n\t\t\t\t\tthis.templateB();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tthis.events(true);\n\t\t},\n\t\t\n\t\t/*\n\t\t * Register how many images have loaded\n\t\t * to the page\n\t\t */\n\t\timageError:function($el){\n\t\t\tvar \n\t\t\t\trand = Math.floor(Math.random() * 12),\n\t\t\t\timgUrl = w.FF.spareImages[rand];\n\t\t\t\n\t\t\tif (this.type == 'a'){\n\t\t\t\t$el.css('backgroundImage',imgUrl);\n\t\t\t\t$el.addClass('visible');\n\t\t\t} else {\n\t\t\t\tthis.imageLoadAmount++;\n\t\t\t\tthis.$images = this.$content.find('div[class^=FF-image]');\n\t\t\t\tif (this.imageLoadAmount >= this.$images.length){\n\t\t\t\t\tthis.setTimer();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\n\t\t/*\n\t\t * Register how many images have loaded\n\t\t * to the page\n\t\t */\n\t\timageLoaded:function($el){\n\t\t\tif (this.type == 'a'){\n\t\t\t\tconsole.dir($el);\n\t\t\t\t$el.addClass('visible');\n\t\t\t} else {\n\t\t\t\tthis.imageLoadAmount++;\n\t\t\t\tthis.$images = this.$content.find('div[class^=FF-image]');\n\t\t\t\tif (this.imageLoadAmount >= this.$images.length){\n\t\t\t\t\tthis.setTimer();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\n\t\t/*\n\t\t * TEMPLATE A\n\t\t * Get into specifics on a per template basis\n\t\t * @params\tvoid\n\t\t * @returns\tvoid\n\t\t */\n\t\ttemplateA:function(){},\n\t\t\n\t\t/*\n\t\t * TEMPLATE B\n\t\t * Get into specifics on a per template basis\n\t\t * @params\tvoid\n\t\t * @returns\tvoid\n\t\t */\n\t\ttemplateB:function(){\n\t\t\tthis.$images = this.$content.find('div[class^=FF-image]');\n\t\t},\n\t\t\n\t\t/*\n\t\t * Iterate over each of the images\n\t\t * Changing the display prop of each\n\t\t */\n\t\tslideshow:function(){\n\t\t\tthis.$images.eq(this.slideshowIterator).addClass('visible')\n\t\t\t\n\t\t\t//Allows it to go infinitely\n\t\t\tif (this.slideshowIterator >= this.$images.length){\n\t\t\t\tthis.$images.not(':first-child').removeClass('visible');\n\t\t\t\tthis.slideshowIterator = 0;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tthis.slideshowIterator++;\n\t\t},\n\t\t\n\t\t/*\n\t\t * Lovely ol' timer\n\t\t */\n\t\tsetTimer: function(){\n\t\t\tthis.timer = setInterval(this.slideshow.bind(this),200)\n\t\t},\n\t\t\n\t\t/*\n\t\t * Lovely ol' timer\n\t\t */\n\t\tclearTimer: function(){\n\t\t\tclearInterval(this.timer);\n\t\t},\n\t\t\n\t\t/*\n\t\t * Remove template from el pago\n\t\t * and hide the extension UI\n\t\t * @params\tvoid\n\t\t * @returns\tvoid\n\t\t */\n\t\tremove:function(){\n\t\t\t$('body').removeClass('overflow-hidden');\n\t\t\tthis.clearTimer();\n\t\t\tthis.$active.remove();\n\t\t}\n\t};\n\t\n\tArticle.init();\n\t\n})(window);"]}